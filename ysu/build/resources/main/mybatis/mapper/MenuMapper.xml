<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.ysu.model.dao.MenuDAO">

    <!-- 전체 메뉴 검색 -->
    <select id="AdminMenuList" resultType="com.example.ysu.model.dto.menuDTO">
        SELECT * FROM menu;
    </select>

    <select id="MenuList" resultType="com.example.ysu.model.dto.menuDTO">
        SELECT * FROM menu;
    </select>

    <!-- 메뉴 등록 -->
    <insert id="MenuInsert" parameterType="com.example.ysu.model.dto.menuDTO">
        insert into menu (menu_name, menu_corner, menu_price, menu_pack, menu_image, menu_sales, menu_regist) values
        (#{menu_name}, #{menu_corner}, #{menu_price}, #{menu_pack}, #{menu_image},  1, 1)
    </insert>

    <!-- 선택 메뉴 상세 정보 -->
    <select id="getMenuById" parameterType="int" resultType="com.example.ysu.model.dto.menuDTO">
        SELECT * FROM menu WHERE menu_id = #{menuId};
    </select>

    <!-- 선택 관리자메뉴 상세 정보 -->
    <select id="getAdminMenuById" parameterType="int" resultType="com.example.ysu.model.dto.menuDTO">
        SELECT * FROM menu WHERE menu_id = #{menuId};
    </select>

    <!-- 선택 메뉴 삭제 -->
    <delete id="MenuDelete">
        DELETE FROM menu WHERE menu_id = #{menuId};
    </delete>

    <!-- 선택 메뉴 수정-->
    <update id="MenuUpdate" parameterType="com.example.ysu.model.dto.menuDTO">
        UPDATE menu SET menu_name = #{menu_name}, menu_corner = #{menu_corner}, menu_price = #{menu_price},
                        menu_pack = #{menu_pack}, menu_image = #{menu_image}, menu_sales = #{menu_sales}, menu_regist = #{menu_regist}
        WHERE menu_id = #{menu_id}
    </update>
</mapper>